{% extends 'base.html.twig' %}

{% block body %}
<body>
    <div class="hero">
        <div class="wrap">
            <div class="logo-top">
                <img src="{{ asset('banner/uffs-logo-branca.png') }}" alt="Universidade Federal da Fronteira Sul" class="uffs-logo" onerror="this.style.display='none'">
            </div>
            <div class="panel">
                <img src="{{ asset('banner/govbr-colorido-b.png') }}" alt="gov.br" class="govbr-logo-tab" onerror="this.src='https://www.gov.br/++theme++padrao_govbr/img/govbr-colorido-b.png'">
                <h3>Redirecionando para gov.br...</h3>
                <p>Você será redirecionado para a página de autenticação do gov.br em alguns segundos.</p>
                <div class="loading">
                    <div class="spinner"></div>
                </div>
                <p><small>Se não for redirecionado automaticamente, <a href="{{ govbr_url }}">clique aqui</a>.</small></p>
            </div>
        </div>
    </div>

    <script>
        // Redireciona automaticamente após 2 segundos
        setTimeout(function() {
            window.location.href = '{{ govbr_url }}';
        }, 2000);
    </script>

    <style>
        .loading {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .govbr-logo-tab { width: 180px; margin: 8px auto 12px auto; display:block; }
        
        /* Responsividade para a página de carregamento gov.br */
        @media (max-width: 768px) {
            .govbr-logo-tab {
                width: 150px;
                margin: 6px auto 10px auto;
            }
            
            .spinner {
                width: 30px;
                height: 30px;
            }
        }
        
        @media (max-width: 480px) {
            .govbr-logo-tab {
                width: 120px;
                margin: 4px auto 8px auto;
            }
            
            .spinner {
                width: 25px;
                height: 25px;
            }
        }
    </style>
</body>
{% endblock %}
