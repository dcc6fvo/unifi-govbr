{%  extends 'base.html.twig' %}


{%  block body %}
<body>
    <div class="hero">
        <div class="panel">
            <img src="{{ asset('banner/uffs-logo-branca.png') }}" alt="Universidade Federal da Fronteira Sul" class="uffs-logo" onerror="this.style.display='none'">
            <h4>Forneça suas credenciais para acessar a rede da UFFS</h4>

            <div class="tabs pills">
                <button class="tablink active" data-tab="tab-ldap2">Visitante</button>
                <button class="tablink" data-tab="tab-govbr">gov.br</button>
                <button class="tablink" data-tab="tab-ldap1">Servidor/Aluno</button>
            </div>

            <div id="tab-ldap1" class="tabcontent" style="display:none">
                <form method="post" action="{{ path('ldap_auth') }}">
                    <input type="text" name="username" placeholder="idUFFS" autocomplete="username" required class="inp" />
                    <input type="password" name="password" placeholder="Senha" autocomplete="current-password" required class="inp" />
                    <button type="submit" class="btn">Entrar</button>
                </form>
            </div>

            <div id="tab-ldap2" class="tabcontent" style="display:block">
                <form method="post" action="{{ path('ldap_auth') }}">
                    <input type="text" name="username" placeholder="e-mail cadastrado" autocomplete="username" required class="inp" />
                    <input type="password" name="password" placeholder="Senha" autocomplete="current-password" required class="inp" />
                    <button type="submit" class="btn">Entrar</button>
                </form>
            </div>

            <div id="tab-govbr" class="tabcontent">
                <img src="{{ asset('banner/govbr-colorido-b.png') }}" alt="gov.br" class="govbr-logo-tab" onerror="this.src='https://www.gov.br/++theme++padrao_govbr/img/govbr-colorido-b.png'">
                <p>Autentique-se com sua conta gov.br para acessar a rede.</p>
                <a class="btn btn-govbr" href="{{ path('login') }}">Entrar com gov.br</a>
            </div>

            <div class="links">
                <a href="#">Suporte técnico</a>
                <small>Ao entrar você reconhece e aceita os termos da Política de Segurança da Informação e Comunicações da UFFS.</small>
            </div>
        </div>
    </div>

    <script>
        (function() {
            var links = document.querySelectorAll('.tablink');
            links.forEach(function(btn){
                btn.addEventListener('click', function(){
                    var tab = this.getAttribute('data-tab');
                    document.querySelectorAll('.tablink').forEach(function(b){ b.classList.remove('active'); });
                    document.querySelectorAll('.tabcontent').forEach(function(c){ c.style.display = 'none'; });
                    this.classList.add('active');
                    var el = document.getElementById(tab);
                    if (el) el.style.display = 'block';
                });
            });
        })();
    </script>

    <style>
        body { background: linear-gradient(180deg, #3d7d66 0%, #3d7d66 100%); }
        .hero { width: 100%; display:flex; align-items: flex-start; justify-content: center; }
        .panel { margin-top: 40px; background: rgba(255,255,255,0.9); padding: 24px; border-radius: 8px; width: 95%; max-width: 640px; text-align: center; }
        .uffs-logo { width: 280px; margin: 8px auto 16px auto; display:block; }
        h4 { margin: 0 0 16px 0; font-weight: 500; color: #1a2e22; }
        .tabs { display:flex; gap:10px; margin: 8px 0 16px 0; justify-content:center; }
        .tabs.pills .tablink { 
            background:#eaf1ff; 
            border:1px solid #cfe0ff; 
            color:#1351b4; 
            padding:8px 14px; 
            cursor:pointer; 
            border-radius:999px; 
            font-weight:700; 
            font-size:14px;
        }
        .tabs.pills .tablink:hover { filter: brightness(0.97); }
        .tabs.pills .tablink.active { background:#1351b4; color:#fff; border-color:#1351b4; }
        .tabcontent { display:none; }
        .inp { width:100%; padding:14px 12px; border-radius:6px; border:1px solid #cfd8dc; margin:6px 0; font-size:16px; box-sizing: border-box; }
        .btn { width:100%; background:#a9ba84; color:#1a2e22; border:none; border-radius:6px; padding:14px; font-size:16px; font-weight:700; cursor:pointer; margin-top:8px; }
        .btn:hover { filter: brightness(0.95); }
        .btn-govbr { background:#1351b4; color:#fff; display:inline-block; text-decoration:none; text-align:center; }
        .govbr-logo-tab { width: 180px; margin: 8px auto 12px auto; display:block; }
        .links { margin-top:14px; display:flex; flex-direction:column; gap:6px; }
        .links a { color:#1351b4; text-decoration: underline; }
        .links small { color:#546e7a; }
    </style>
</body>
{%  endblock %}
