{%  extends 'base.html.twig' %}


{%  block body %}
<body>
    <div class="hero">
        <div class="wrap">
        <div class="logo-top">
            <img src="{{ asset('banner/uffs-logo-branca.png') }}" alt="Universidade Federal da Fronteira Sul" class="uffs-logo" onerror="this.style.display='none'">
        </div>
        <div class="panel">
            <h4>Escolha a forma de Autenticação:</h4>

            <div class="tabs pills">
                <button class="tablink active" data-tab="tab-ldap2">Visitante</button>
                <button class="tablink" data-tab="tab-govbr">gov.br</button>
                <button class="tablink" data-tab="tab-ldap1">Servidor/Aluno</button>
            </div>
            
            <h4>Forneça suas credenciais:</h4>

            <div id="tab-ldap1" class="tabcontent" style="display:none">
                <form method="post" action="{{ path('ldap_auth') }}">
                    <input type="text" name="username" placeholder="idUFFS" autocomplete="username" required class="inp" />
                    <input type="password" name="password" placeholder="Senha" autocomplete="current-password" required class="inp" />
                    <button type="submit" class="btn btnform">Entrar</button>
                </form>
            </div>

            <div id="tab-ldap2" class="tabcontent" style="display:block">
                <form method="post" action="{{ path('ldap_auth') }}">
                    <input type="text" name="username" placeholder="e-mail cadastrado" autocomplete="username" required class="inp" />
                    <input type="password" name="password" placeholder="Senha" autocomplete="current-password" required class="inp" />
                    <button type="submit" class="btn btnform">Entrar</button>
                </form>
            </div>

            <div id="tab-govbr" class="tabcontent">
                <img src="{{ asset('banner/govbr-colorido-b.png') }}" alt="gov.br" class="govbr-logo-tab" onerror="this.src='https://www.gov.br/++theme++padrao_govbr/img/govbr-colorido-b.png'">
                <p>Autentique-se com sua conta gov.br para acessar a rede.</p>
                <a class="btn" href="{{ path('login') }}">Entrar com gov.br</a>
            </div>

        </div>
        </div>
    </div>

    <script>
        (function() {
            var links = document.querySelectorAll('.tablink');
            links.forEach(function(btn){
                btn.addEventListener('click', function(){
                    var tab = this.getAttribute('data-tab');
                    document.querySelectorAll('.tablink').forEach(function(b){ b.classList.remove('active'); });
                    document.querySelectorAll('.tabcontent').forEach(function(c){ c.style.display = 'none'; });
                    this.classList.add('active');
                    var el = document.getElementById(tab);
                    if (el) el.style.display = 'block';
                });
            });
        })();
    </script>

    <style>
        h4 { margin: 0 0 16px 0; font-weight: 500; color: #1a2e22; }
        .govbr-logo-tab { width: 180px; margin: 8px auto 12px auto; display:block; }
        
        /* Responsividade específica para a página de login */
        @media (max-width: 768px) {
            .govbr-logo-tab {
                width: 150px;
                margin: 6px auto 10px auto;
            }
        }
        
        @media (max-width: 480px) {
            .govbr-logo-tab {
                width: 120px;
                margin: 4px auto 8px auto;
            }
        }
    </style>
</body>
{%  endblock %}
